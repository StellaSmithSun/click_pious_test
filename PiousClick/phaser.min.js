<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>PiousClick</title>

  <script src="./phaser.min.js"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.min.js"></script>-->

  <style>
    body { margin: 0; padding: 0; background: #222; }
  </style>
</head>
<body>

<script>
    let count = parseInt(localStorage.getItem("count") || "0");

    //注释
    const config = {
    type: Phaser.AUTO,
    width: 400,
    height: 600,
    backgroundColor: "#222222",
    scene: 
        {
        preload: preload,
        create: create
        }
    };
    

    const game = new Phaser.Game(config);

    function preload() {
        this.load.image("muyu", "assets/muyu.png");
        }

    function create() {
        const centerX = this.cameras.main.centerX;
        const centerY = this.cameras.main.centerY;

        const muyu = this.add.image(centerX, centerY, "muyu")
            .setScale(0.4)
            .setInteractive();

        const text = this.add.text(centerX, 80, "Count: " + count, {
        fontSize: "32px",
        color: "#ffffff"
        }).setOrigin(0.5);

        muyu.on("pointerdown", () => {
        count++;
        localStorage.setItem("count", count);
        text.setText("Count: " + count);

        this.tweens.add({
            targets: muyu,
            scale: 0.37,
            yoyo: true,
            duration: 100
            });
        });
    }
</script>

</body>
</html>
